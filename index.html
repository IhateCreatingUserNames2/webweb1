<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário LLM</title>
</head>
<body>
  <h1>Formulário para Processamento de Dados</h1>
  <form id="llmForm">
    <label>Você possui energia no local? (Sim ou Não)</label><br>
    <input type="text" name="possuiEnergia" required><br><br>

    <label>Tipo de fixação dos módulos solares:</label><br>
    <select name="tipoFixacao" required>
      <option value="telhadoMetalico">Telhado Metálico</option>
      <option value="fixacaoSolo">Fixação em Solo</option>
      <option value="telhadoFibrocimento">Telhado Fibrocimento</option>
    </select><br><br>

    <label>Já possui módulos? (Sim ou Não)</label><br>
    <input type="text" name="possuiModulos" required><br><br>

    <label>Quantidade de equipamentos elétricos:</label><br>
    <input type="number" name="equipamentos"><br><br>

    <label>Potência média dos equipamentos (kW):</label><br>
    <input type="number" name="potenciaMedia" step="0.1"><br><br>

    <label>Horas de utilização durante o dia:</label><br>
    <input type="number" name="horasDia"><br><br>

    <label>Horas de utilização durante a noite:</label><br>
    <input type="number" name="horasNoite"><br><br>

    <label>Consegue enviar sua fatura de energia? (Link ou descrição)</label><br>
    <input type="text" name="faturaEnergia"><br><br>

    <label>Qual a sua região?</label><br>
    <input type="text" name="regiao" required><br><br>

    <label>Qual o tempo máximo que você já ficou sem energia?</label><br>
    <input type="text" name="tempoSemEnergia" required><br><br>

    <button type="submit">Enviar</button>
  </form>

  <script>
    const form = document.getElementById('llmForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      const response = await fetch('/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      alert(result.mensagem);
    });
  </script>
</body>
</html>
